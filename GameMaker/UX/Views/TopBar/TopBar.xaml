<Page x:Class="GameMaker.UX.Views.TopBar.TopBar"
      x:Name="TopBarControl"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:topBar="using:GameMaker.UX.ViewModels.TopBar"
      xmlns:behaviors="using:GameLibrary.Behaviors"
      xmlns:engineButtonIcon="using:GameMaker.UX.Components.EngineButtonIcon"
      mc:Ignorable="d"
      d:DataContext="{d:DesignInstance topBar:TopBarViewModel}"
      behaviors:LoadedBehavior.LoadedCommand="{x:Bind ViewModel.LoadedCommand}">
  <StackPanel Orientation="Horizontal" Spacing="20" Background="{StaticResource MediumGreyBrush}" Height="68" Padding="5 0 0 0">
    <ItemsControl ItemsSource="{x:Bind ViewModel.EngineImages, Mode=OneWay}" VerticalAlignment="Center">
      <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
          <StackPanel Orientation="Horizontal" Spacing="10" />
        </ItemsPanelTemplate>
      </ItemsControl.ItemsPanel>
      <ItemsControl.ItemTemplate>
        <DataTemplate xmlns:engineRadioIcon="using:GameMaker.UX.Components.EngineRadioIcon" x:DataType="engineRadioIcon:EngineRadioIconModel">
          <engineRadioIcon:EngineRadioIcon Command="{Binding ViewModel.TopBarCommand, ElementName=TopBarControl}" GroupName="Navigation" />
        </DataTemplate>
      </ItemsControl.ItemTemplate>
    </ItemsControl>
    <Border Width="1"
            Background="{StaticResource LightGreyBrush}"
            Height="48" />
    <engineButtonIcon:EngineButtonIcon DataContext="{x:Bind ViewModel.MediaImage, Mode=OneWay}"
                                       Command="{x:Bind ViewModel.TopBarCommand}" />
    <engineButtonIcon:EngineButtonIcon DataContext="{x:Bind ViewModel.SaveImage, Mode=OneWay}"
                                       Command="{x:Bind ViewModel.TopBarCommand}" />
  </StackPanel>
</Page>
